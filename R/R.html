<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Programming and Statistics with R</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="-V title='Programming and Statistics with R' -V author='Patrick Bucher'">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">Programming and Statistics with R</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#basics"><span class="toc-section-number">1</span> Basics</a><ul>
<li><a href="#environment"><span class="toc-section-number">1.1</span> Environment</a><ul>
<li><a href="#scoping"><span class="toc-section-number">1.1.1</span> Scoping</a></li>
<li><a href="#sessions"><span class="toc-section-number">1.1.2</span> Sessions</a></li>
<li><a href="#packages"><span class="toc-section-number">1.1.3</span> Packages</a></li>
<li><a href="#help"><span class="toc-section-number">1.1.4</span> Help</a></li>
</ul></li>
<li><a href="#language-basics"><span class="toc-section-number">1.2</span> Language Basics</a><ul>
<li><a href="#calculations"><span class="toc-section-number">1.2.1</span> Calculations</a></li>
<li><a href="#argument-matching"><span class="toc-section-number">1.2.2</span> Argument Matching</a></li>
</ul></li>
<li><a href="#vectors"><span class="toc-section-number">1.3</span> Vectors</a><ul>
<li><a href="#sequences"><span class="toc-section-number">1.3.1</span> Sequences</a></li>
<li><a href="#repetitions"><span class="toc-section-number">1.3.2</span> Repetitions</a></li>
<li><a href="#sorting"><span class="toc-section-number">1.3.3</span> Sorting</a></li>
<li><a href="#accessing-elements"><span class="toc-section-number">1.3.4</span> Accessing Elements</a></li>
<li><a href="#arithmetic-on-vectors"><span class="toc-section-number">1.3.5</span> Arithmetic on Vectors</a></li>
</ul></li>
<li><a href="#matrices"><span class="toc-section-number">1.4</span> Matrices</a><ul>
<li><a href="#operations-and-algebra"><span class="toc-section-number">1.4.1</span> Operations and Algebra</a></li>
</ul></li>
<li><a href="#multidimensional-arrays"><span class="toc-section-number">1.5</span> Multidimensional Arrays</a></li>
<li><a href="#logical-values"><span class="toc-section-number">1.6</span> Logical Values</a><ul>
<li><a href="#logical-operations"><span class="toc-section-number">1.6.1</span> Logical Operations</a></li>
<li><a href="#element-selection"><span class="toc-section-number">1.6.2</span> Element Selection</a></li>
</ul></li>
<li><a href="#strings"><span class="toc-section-number">1.7</span> Strings</a><ul>
<li><a href="#concatenation"><span class="toc-section-number">1.7.1</span> Concatenation</a></li>
<li><a href="#substrings-and-replacements"><span class="toc-section-number">1.7.2</span> Substrings and Replacements</a></li>
</ul></li>
<li><a href="#factors"><span class="toc-section-number">1.8</span> Factors</a><ul>
<li><a href="#cutting"><span class="toc-section-number">1.8.1</span> Cutting</a></li>
<li><a href="#splitting"><span class="toc-section-number">1.8.2</span> Splitting</a></li>
</ul></li>
<li><a href="#lists"><span class="toc-section-number">1.9</span> Lists</a></li>
<li><a href="#data-frames"><span class="toc-section-number">1.10</span> Data Frames</a></li>
<li><a href="#special-values"><span class="toc-section-number">1.11</span> Special Values</a><ul>
<li><a href="#infinity"><span class="toc-section-number">1.11.1</span> Infinity</a></li>
<li><a href="#not-a-number"><span class="toc-section-number">1.11.2</span> Not a Number</a></li>
<li><a href="#null"><span class="toc-section-number">1.11.3</span> NULL</a></li>
</ul></li>
<li><a href="#objects"><span class="toc-section-number">1.12</span> Objects</a><ul>
<li><a href="#attributes"><span class="toc-section-number">1.12.1</span> Attributes</a></li>
<li><a href="#classes"><span class="toc-section-number">1.12.2</span> Classes</a></li>
</ul></li>
<li><a href="#plotting"><span class="toc-section-number">1.13</span> Plotting</a><ul>
<li><a href="#additional-elements"><span class="toc-section-number">1.13.1</span> Additional Elements</a></li>
<li><a href="#saving-plots-to-files"><span class="toc-section-number">1.13.2</span> Saving Plots to Files</a></li>
<li><a href="#plotting-examples"><span class="toc-section-number">1.13.3</span> Plotting Examples</a></li>
</ul></li>
<li><a href="#pre-installed-data-sets"><span class="toc-section-number">1.14</span> Pre-Installed Data Sets</a></li>
<li><a href="#working-with-files"><span class="toc-section-number">1.15</span> Working with Files</a><ul>
<li><a href="#reading-text-files"><span class="toc-section-number">1.15.1</span> Reading Text Files</a></li>
<li><a href="#reading-csv-files"><span class="toc-section-number">1.15.2</span> Reading CSV Files</a></li>
<li><a href="#writing-files"><span class="toc-section-number">1.15.3</span> Writing Files</a></li>
</ul></li>
<li><a href="#timing"><span class="toc-section-number">1.16</span> Timing</a></li>
</ul></li>
<li><a href="#programming"><span class="toc-section-number">2</span> Programming</a><ul>
<li><a href="#conditions"><span class="toc-section-number">2.1</span> Conditions</a><ul>
<li><a href="#if-else-if-else"><span class="toc-section-number">2.1.1</span> If, Else If, Else</a></li>
<li><a href="#switch-case"><span class="toc-section-number">2.1.2</span> Switch-Case</a></li>
</ul></li>
<li><a href="#loops"><span class="toc-section-number">2.2</span> Loops</a><ul>
<li><a href="#for-loops"><span class="toc-section-number">2.2.1</span> For Loops</a></li>
<li><a href="#while-loops"><span class="toc-section-number">2.2.2</span> While Loops</a></li>
<li><a href="#implicit-looping"><span class="toc-section-number">2.2.3</span> Implicit Looping</a></li>
<li><a href="#leave-a-loop"><span class="toc-section-number">2.2.4</span> Leave a Loop</a></li>
<li><a href="#skip-a-loop-item"><span class="toc-section-number">2.2.5</span> Skip a Loop Item</a></li>
<li><a href="#repeat"><span class="toc-section-number">2.2.6</span> Repeat</a></li>
</ul></li>
<li><a href="#functions"><span class="toc-section-number">2.3</span> Functions</a></li>
<li><a href="#warnings-and-exceptions"><span class="toc-section-number">2.4</span> Warnings and Exceptions</a></li>
</ul></li>
<li><a href="#statistics"><span class="toc-section-number">3</span> Statistics</a><ul>
<li><a href="#basic-terms"><span class="toc-section-number">3.1</span> Basic Terms</a></li>
<li><a href="#summary-statistics"><span class="toc-section-number">3.2</span> Summary Statistics</a><ul>
<li><a href="#mean-median-mode"><span class="toc-section-number">3.2.1</span> Mean, Median, Mode</a></li>
<li><a href="#quantiles-percentiles"><span class="toc-section-number">3.2.2</span> Quantiles, Percentiles</a></li>
<li><a href="#spread"><span class="toc-section-number">3.2.3</span> Spread</a></li>
<li><a href="#covariance-and-correlation"><span class="toc-section-number">3.2.4</span> Covariance and Correlation</a></li>
</ul></li>
<li><a href="#probability-distributions"><span class="toc-section-number">3.3</span> Probability Distributions</a><ul>
<li><a href="#mass-functions-for-discrete-variables"><span class="toc-section-number">3.3.1</span> Mass Functions (for Discrete Variables)</a></li>
<li><a href="#density-functions-for-continuous-variables"><span class="toc-section-number">3.3.2</span> Density Functions (for Continuous Variables)</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="basics"><span class="header-section-number">1</span> Basics</h1>
<h2 id="environment"><span class="header-section-number">1.1</span> Environment</h2>
<p>Set a custom prompt (<code>R&gt;</code>):</p>
<pre><code>options(prompt = &quot;R&gt; &quot;)</code></pre>
<p>List variables, objects and user-defined functions of the current session:</p>
<pre><code>ls()</code></pre>
<p>Remove an item from the current session:</p>
<pre><code>ls() # nothing
foo &lt;- &quot;bar&quot;
ls() # &quot;foo&quot;

rm(foo)
ls() # nothing</code></pre>
<p>Empty the current session:</p>
<pre><code>rm(list = ls())</code></pre>
<p>Leave R:</p>
<pre><code>q()</code></pre>
<h3 id="scoping"><span class="header-section-number">1.1.1</span> Scoping</h3>
<p>List environments:</p>
<pre><code>search() # &quot;.GlobalEnv&quot; &quot;tools:rstudio&quot; ... &quot;package:base&quot;</code></pre>
<p>When refering to a symbol (a variable, object, functin etc.), R searches through the environments listed by <code>search()</code> from left to right.</p>
<p>Determine the environment in which an object lives:</p>
<pre><code>environment(seq) # &lt;environment: namespace:base&gt;
environment(plot) # &lt;environment: namespace:graphics&gt;</code></pre>
<p>List the content of an environment:</p>
<pre><code>ls(&quot;package:graphics&quot;)</code></pre>
<p>When a package is no longer used, it can be detached in order to clean up the namespace:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">search</span>() <span class="co"># &quot;.GlobalEnv&quot; &quot;package:stats&quot; &quot;package:graphics&quot; etc.</span>
<span class="kw">library</span>(<span class="st">&quot;MASS&quot;</span>)
<span class="kw">search</span>() <span class="co"># &quot;.GlobalEnv&quot; &quot;package:MASS&quot; &quot;package:stats&quot; etc.</span>
<span class="kw">detach</span>(<span class="st">&quot;package:MASS&quot;</span>, <span class="dt">detach =</span> <span class="ot">TRUE</span>)
<span class="kw">search</span>() <span class="co"># &quot;.GlobalEnv&quot; &quot;package:stats&quot; &quot;package:graphics&quot; etc.</span></code></pre></div>
<p>For easier lookup, objects can be attached:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">person &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name =</span> <span class="st">&quot;Patrick&quot;</span>, <span class="dt">age =</span> <span class="dv">30</span>)
person.name <span class="co"># &quot;Patrick&quot;</span>
person.age <span class="co"># 30</span>

name <span class="co"># Error: object &#39;name&#39; not found</span>
age <span class="co"># Error: object &#39;age&#39; not found</span>

<span class="kw">attach</span>(person)
name <span class="co"># &quot;Patrick&quot;</span>
age <span class="co"># 30</span>

<span class="kw">detach</span>(person)
name <span class="co"># Error: object &#39;name&#39; not found</span>
age <span class="co"># Error: object &#39;age&#39; not found</span></code></pre></div>
<p>In order to keep the namespace clean, attaching objects to the namespace (“mounting”) should be avoided.</p>
<h3 id="sessions"><span class="header-section-number">1.1.2</span> Sessions</h3>
<p>Find out and set the current working directory:</p>
<pre><code>getwd()
setwd(&quot;~/my-workspace&quot;)</code></pre>
<p>Save the current session:</p>
<pre><code>save.image(&quot;my-session.RData&quot;)</code></pre>
<p>Load a stored session:</p>
<pre><code>load(&quot;my-session.RData&quot;)</code></pre>
<h3 id="packages"><span class="header-section-number">1.1.3</span> Packages</h3>
<p>Install a new package (<code>MASS</code>, for example):</p>
<pre><code>install.packages(&quot;MASS&quot;)</code></pre>
<p>List installed packages:</p>
<pre><code>installed.packages()</code></pre>
<p>Load the installed <code>MASS</code> library:</p>
<pre><code>library(&quot;MASS&quot;)</code></pre>
<p>Update installed packages:</p>
<pre><code>update.packages()</code></pre>
<p>Uninstall a package (using default library paths):</p>
<pre><code>remove.packages(&quot;MASS&quot;, .libPaths())</code></pre>
<h3 id="help"><span class="header-section-number">1.1.4</span> Help</h3>
<p>Get help for a specific keyword (the <code>mean</code> function, for example):</p>
<pre><code>help(&quot;mean&quot;)
?mean # shortcut</code></pre>
<p>Search for a help topic (<code>random</code>, for example):</p>
<pre><code>help.search(&quot;random&quot;)
??&quot;random&quot; # shortcut</code></pre>
<h2 id="language-basics"><span class="header-section-number">1.2</span> Language Basics</h2>
<p>Comments, starting with <code>#</code> to the end of the line:</p>
<pre><code>1 + 1 # calculates one plus one, which is two</code></pre>
<p>Exponential notation:</p>
<pre><code>1e3 # 1 * 10^3 = 1000
1e-3 # 1 * 10^(-3) = 0.001</code></pre>
<p>Assignments:</p>
<pre><code>a &lt;- 17
b = 42</code></pre>
<h3 id="calculations"><span class="header-section-number">1.2.1</span> Calculations</h3>
<p>Basic arithmetic:</p>
<pre><code>3 + 5 # 8
5 - 2 # 3
2 * 3 # 6
9 / 3 # 3
2 ^ 3 # 8 (2 to the power of 3)
sqrt(16) # 4
13 %% 5 # 3 (modulus, the remainder of 13 divided by 5)</code></pre>
<p>Logarithms:</p>
<pre><code>log(x = 8, base = 2) # 3, because 2^3 = 8
log(8, 2) # same but shorter</code></pre>
<p>Euler’s number as an exponantial function:</p>
<pre><code>exp(1) # 2.718282</code></pre>
<p>The <code>log()</code> function uses Euler’s number as the default base (natural logarithm):</p>
<pre><code>log(100) # 4.60517
log(x = 100, base = exp(1)) # same with an explicit base</code></pre>
<p>The <code>exp()</code> function is the reverse function of <code>log()</code>:</p>
<pre><code>log(exp(23)) # 23</code></pre>
<h3 id="argument-matching"><span class="header-section-number">1.2.2</span> Argument Matching</h3>
<p>Exact matching (fully spell out all the parameters):</p>
<pre><code>matrix(data=1:16, ncol=4, nrow=4, byrow=TRUE, dimnames=list(1:4, 1:4))</code></pre>
<p>Partial matching (abbreviate the parameter names):</p>
<pre><code>matrix(dat=1:16, nc=4, nr=4, byr=TRUE, dim=list(1:4, 1:4))</code></pre>
<p>Positional matching (rely solely on the argument order, which can be found out using the <code>args()</code> function – <code>args(matrix)</code>):</p>
<pre><code>matrix(1:16, 4, 4, TRUE, list(1:4, 1:4))</code></pre>
<p>Mixed matching (don’t name most common arguments but special ones):</p>
<pre><code>matrix(1:16, ncol=4, byrow=TRUE, dimnames=list(1:4, 1:4))
matrix(1:16, nc=4, byr=TRUE, dim=list(1:4, 1:4))</code></pre>
<p>A lot of R functions have the parameter <code>x</code>, which is usually not explicitly named upon invocation.</p>
<p>Some function accept variadic arguments, represented by an ellipsis (<code>...</code>). Any argument not matching a named parameter will be matched to the variadic parameter:</p>
<pre><code>args(cat)
# function (..., file=&quot;&quot;, sep=&quot; &quot;, fill=FALSE, labels=NULL, append=FALSE)

cat(&quot;foo&quot;, &quot;bar&quot;, sep=&quot;-&quot;, &quot;qux&quot;) # foo-bar-qux</code></pre>
<h2 id="vectors"><span class="header-section-number">1.3</span> Vectors</h2>
<p>Make a vector from individual elements:</p>
<pre><code>c(1, 2, 3) # 1 2 3</code></pre>
<h3 id="sequences"><span class="header-section-number">1.3.1</span> Sequences</h3>
<p>Make a sequence from one to ten:</p>
<pre><code>seq(from = 1, to = 10, by = 1)
1:10 # same but shorter (default step = 1)</code></pre>
<p>Make a sequence with a specific length instead of step size, which will be calculated automatically:</p>
<pre><code>seq(from = 1, to = 10, length.out = 4) # 1 4 7 10</code></pre>
<p>Make a sequence with a specific length and step size, but omit the upper boundry:</p>
<pre><code>seq(from = 1, by = 2, length.out = 5) # 1 3 5 7 9</code></pre>
<h3 id="repetitions"><span class="header-section-number">1.3.2</span> Repetitions</h3>
<p>Repeat a number:</p>
<pre><code>rep(x = 1, times = 3) # 1 1 1
rep(1, 3) # same but shorter</code></pre>
<p>Repeat a sequence:</p>
<pre><code>rep(c(1, 2, 3), 2) # 1 2 3 1 2 3
rep(1:3, 2), # same but shorter</code></pre>
<p>Repeat items instead of the whole sequence:</p>
<pre><code>rep(1:3, each = 2) # 1 1 2 2 3 3</code></pre>
<p>Repeat using <code>each</code> and <code>times</code> combined:</p>
<pre><code>rep(1:2, each = 2, times = 2) # 1 1 2 2 1 1 2 2</code></pre>
<h3 id="sorting"><span class="header-section-number">1.3.3</span> Sorting</h3>
<p>Sort (in ascending order):</p>
<pre><code>sort(3:-3) # -3 -2 -1 0 1 2 3</code></pre>
<p>Sort (in descending order):</p>
<pre><code>sort(1:5, decreasing = TRUE) # 5 4 3 2 1</code></pre>
<p>Reverse the order of a vector’s elements:</p>
<pre><code>rev(1:5) # 5 4 3 2 1</code></pre>
<h3 id="accessing-elements"><span class="header-section-number">1.3.4</span> Accessing Elements</h3>
<p>For the following examples, the vector <code>v</code> is used:</p>
<pre><code>v &lt;- seq(from = 10, to = 50, by = 10) # 10 20 30 40 50 </code></pre>
<p>Access the first element (the first index is 1):</p>
<pre><code>v[1] # 10</code></pre>
<p>Access the last element (the last index is the vector’s length):</p>
<pre><code>v[length(v)] # 50</code></pre>
<p>Access multiple elements:</p>
<pre><code>v[c(1, 3, 5)] # 10 30 50
v[1:3] # 10 20 30</code></pre>
<p>Omit the element at a certain index:</p>
<pre><code>v[-1] # 20 30 40 50
v[-length(v)] # 10 20 30 40</code></pre>
<p>Omit multiple elements:</p>
<pre><code>v[-c(1, 2, 3)] # 40 50</code></pre>
<p>Overwrite vector elements:</p>
<pre><code>v[1] = 11 # v = 11 20 30 40 50
v[c(2, 3)] = c(22, 33) # v = 11 22 33 40 50
v[c(4, 5)] = 44 # v = 11 22 33 44 44, 44 was used twice!
v[1:4] = c(1, 2) # v = 1 2 1 2 44</code></pre>
<p>The vector on the left hand side must either have:</p>
<ol type="1">
<li>the same size as the vector on the right hand side, or</li>
<li>a size multiple times as big as the vector on the right hand side.</li>
</ol>
<p>In the second case, the shorter vector is <em>recycled</em>, i.e. used repeatedly to fill up to the length of the longer vector.</p>
<h3 id="arithmetic-on-vectors"><span class="header-section-number">1.3.5</span> Arithmetic on Vectors</h3>
<p>Multiply every item of the vector by 2:</p>
<pre><code>1:6 * 2 # 2 4 6 8 10 12</code></pre>
<p>Multiply the items of the vector by 1 and -1, respectively:</p>
<pre><code>1:6 * c(1,-1) # 1 -2 3 -4 5 -6</code></pre>
<p>For the vector’s sizes, the same rule applies as stated above.</p>
<p>Calculate the sum of a vector:</p>
<pre><code>sum(1, 2, 3, 4) # 1+2+3+4=10
sum(1:100) # 5050</code></pre>
<p>Calculate the product of a vector:</p>
<pre><code>prod(1, 2, 3, 4) # 1*2*3*4=4!=24
prod(1:4) # same but shorter</code></pre>
<h2 id="matrices"><span class="header-section-number">1.4</span> Matrices</h2>
<p>Create a 2x2 matrix:</p>
<pre><code>matrix(data = c(1, 2, 3, 4), nrow = 2, ncol = 2)</code></pre>
<p>Either <code>nrow</code> or <code>ncol</code> can be omitted:</p>
<pre><code>matrix(1:16, nrow = 4) # 4x4 matrix (16 items)
matrix(1:25, ncol = 5) # 5x5 matrix (25 items)</code></pre>
<p>If both <code>nrow</code> and <code>ncol</code> are omitted, a one-row matrix will be created:</p>
<pre><code>matrix(1:10) # 1x10 matrix (10 items)</code></pre>
<p>By default, the matrix is filled up by column:</p>
<pre><code>matrix(1:6, ncol = 2)

1   4
2   5
3   6</code></pre>
<p>This behaviour can be changed using the <code>byrow</code> parameter:</p>
<pre><code>matrix(1:6, ncol = 2, byrow = TRUE)

1   2
3   4
5   6</code></pre>
<p>Matrices can be built up from vectors of same lengths:</p>
<pre><code>rbind(1:3, 4:6) # by row

1   2   3
4   5   6

cbind(1:3, 4:6) # by column

1   4
2   4
3   6</code></pre>
<p>Find out the dimensions of a matrix:</p>
<pre><code>m &lt;- matrix(1:12, nrow = 3, ncol = 4)

1   4   7   10
2   5   8   11
3   6   9   12

dim(m) # 3 4 (a vector)
dim(m)[1] # 3, number of rows
nrow(m) # same but shorter
dim(m)[2] # 4, number of cols
ncol(m) # same but shorter</code></pre>
<p>Access a matrix element:</p>
<pre><code>m &lt;- matrix(1:6, ncol = 3)

1   3   5
2   4   6

m[1,2] # 3 [row, col]</code></pre>
<p>Access a whole row or column (returns a vector):</p>
<pre><code>m[1,] # 1 3 5, first row
m[,2] # 3 4, second column</code></pre>
<p>Rows and columns can be accessed using vectors:</p>
<pre><code>m[1:2,] # rows 1 and 2
m[,c(1,3)] # cols 1 and 3</code></pre>
<p>This makes it possible to select parts of a matrix:</p>
<pre><code>m &lt;- matrix(1:9, ncol = 3)

1   4   7
2   5   8
3   6   9

m[1:2, c(1,3)] # rows 1 and 2, cols 1 and 3

1   7
2   8</code></pre>
<p>Access the diagonal values as a vector:</p>
<pre><code>diag(m) # 1 5 9</code></pre>
<p>Omit parts of a matrix:</p>
<pre><code>m[-1,] # omit the first row
m[,-2] # omit the second column
m[-(2:3), -c(1,4)] # omit rows 2 to 3, columns 1 and 4</code></pre>
<p>Matrix rows and columns can be overwritten like any vector (the same length rules apply):</p>
<pre><code>m[1,] = 6 # set every value in the first row to 6
m[1:2, 2:3 = 7] # the values in the sub-matrix [1,2] to [2,3] are set to 7
m[,2] = c(1,2) # the values in the second column are set to 1, 2, 1, 2 etc.
m[1,] = m[2,] # overwrite the first row using the values of the second row
m[c(1, nrow(m)), c(1, ncol(m))] = -1 # set the values in the &quot;corners&quot; to -1</code></pre>
<p>Name the dimensions of a matrix:</p>
<pre><code>m &lt;- (1:4, ncol = 2, dimnames = list(c(&quot;R1&quot;, &quot;R2&quot;), c(&quot;C1&quot;, &quot;C2&quot;)))

   C1   C2
R1  1   3
R2  2   4</code></pre>
<p>Dimension names can also be provided after the creation:</p>
<pre><code>m &lt;- (1:4, ncol = 2)
dimension(m) &lt;- list(c(&quot;R1&quot;, &quot;R2&quot;), c(&quot;C1&quot;, &quot;C2&quot;))</code></pre>
<h3 id="operations-and-algebra"><span class="header-section-number">1.4.1</span> Operations and Algebra</h3>
<p>Transpose a matrix (<span class="math inline"><em>A</em><sup><em>T</em></sup></span> is the transposed matrix of <span class="math inline"><em>A</em></span>):</p>
<pre><code>A &lt;- matrix(1:9, ncol = 3)

1   4   7
2   5   8
3   6   9

t(A)

1   2   3
4   5   6
7   8   9</code></pre>
<p>Create an identity matrix of size <span class="math inline"><em>n</em></span> (<span class="math inline"><em>I</em><sub><em>n</em></sub></span>):</p>
<pre><code>I &lt;- diag(x = 3)

1   0   0
0   1   0
0   0   1</code></pre>
<p>Scalar multiplication of a matrix:</p>
<pre><code>A &lt;- rbind(1:3, 4:6)

1   2   3
4   5   6

A * 2

2   4   6
8  10  12</code></pre>
<p>Addition and substraction of matrices:</p>
<pre><code>A &lt;- matrix(1:4, ncol = 2)
B &lt;- matrix(5:8, ncol = 2)

A + B

1   3       5   7       6  10
        +           =   
2   4       6   8       8  12

B - A

5   7       1   3       4   4
        +           =
6   8       2   4       4   4</code></pre>
<p>Two matrices, <span class="math inline"><em>A</em>(<em>m</em>, <em>n</em>)</span> and <span class="math inline"><em>B</em>(<em>p</em>, <em>q</em>)</span>, can be multiplied if <span class="math inline"><em>n</em> = <em>p</em></span> holds true (first matrix’ cols = second matrix’ rows), resulting in a matrix with <span class="math inline"><em>m</em></span> rows and <span class="math inline"><em>q</em></span> cols:</p>
<pre><code>A &lt;- matrix(c(2,6,5,1,2,4), ncol = 3) # n = 3
B &lt;- matrix(c(3,-1,1,-3,1,5), nrow = 3) # p = 3

A %*% B

x        B = 3  -3
            -1   1
             1   5
A = 
2   5   2  | 3   9| = AxB
6   1   4  |21   3|</code></pre>
<p><span class="math inline"><em>A</em><sup>−1</sup></span> is the inverse of a matrix <span class="math inline"><em>A</em></span>. <span class="math inline"><em>A</em></span> multiplied by <span class="math inline"><em>A</em><sup>−1</sup></span> results in the identity matrix:</p>
<pre><code>A &lt;- matrix(3,4,1,2), ncol = 2)

3   1
4   2

solve(A)

 1  -0.5
-2   1.5

A %*% solve(A) # check the result: is it the identity matrix?

1   0
0   1</code></pre>
<p>Summary:</p>
<ul>
<li>inverse matrix: <span class="math inline"><em>A</em><sup>−1</sup></span>, <code>solve(A)</code></li>
<li>transposed matrix: <span class="math inline"><em>A</em><sup><em>T</em></sup></span>, <code>t(A)</code></li>
<li>identity matrix: <span class="math inline"><em>I</em><sub><em>n</em></sub></span>, <code>diag(x = n)</code></li>
</ul>
<h2 id="multidimensional-arrays"><span class="header-section-number">1.5</span> Multidimensional Arrays</h2>
<p>Define arrays of different dimension:</p>
<pre><code>array(data = 1:24) # vector 1 2 3 ... 24, 1 dimension
array(data = 1:24, dim = c(24)) # same with explicit dimension
array(data = 1:24, dim = c(4, 6)) # a 4x6 matrix, 2 dimensions
array(data = 1:24, dim = c(2, 3, 4)) # a 2x3x4 &quot;cube&quot;, 3 dimensions</code></pre>
<p>The dimension <code>(2, 3, 4)</code> stands for 2 rows, 3 cols and 4 layers. The product of the elements in the dimension vector must be equal to the length of the data vector.</p>
<p>Accessing parts of a multidimensional array:</p>
<pre><code>AR &lt;- array(1:24, c(2, 3, 4))
AR[1,,] # access the first row
AR[,2,] # access the second column
AR[,,3] # access the third layer

AR[1,,c(1, 2)] # first row of first and second layer</code></pre>
<p>For arrays, the same assignment rules of vectors and matrices also apply.</p>
<h2 id="logical-values"><span class="header-section-number">1.6</span> Logical Values</h2>
<p>Boolean values:</p>
<pre><code>TRUE
T # shorter for TRUE
FALSE
F # shorter for FALSE</code></pre>
<p>Logical operations:</p>
<pre><code>6 == 3 * 2 # equal to, TRUE
10 != 5 * 2 # not equal to, FALSE
7 &gt; 5 # greater than, TRUE
8 &lt; 3 # less than, FALSE
8 &gt;= 4 * 2 # greater than or equal to, TRUE
7 &lt;= 3 * 3 # less than or equal to, FALSE</code></pre>
<p><code>TRUE</code> and <code>FALSE</code> represent <code>1</code> and <code>0</code>, respectively:</p>
<pre><code>1 == TRUE # TRUE
0 == FALSE # TRUE
2 == TRUE # FALSE

T + T + T # 3
F - 4*T + 3*T # 0 - 4 + 3 = -1</code></pre>
<p>Logical operations can be applied to vectors, matrices and arrays, applying the operator on every element and returning a vector consisting of <code>TRUE</code> and <code>FALSE</code>:</p>
<pre><code>1:3 == seq(from = 1, to = 3) # TRUE TRUE TRUE
1:3 == c(1, 2, 4) # TRUE TRUE FALSE</code></pre>
<p>Like assignments, comparisons can be performed on vectors of different lenghts (according to the same rules, a shorter right hand side vector will be recycled):</p>
<pre><code>1:4 &gt; 2:3 # 1&gt;2, 2&gt;3, 3&gt;2, 4&gt;3; evaluates to FALSE FALSE FALSE TRUE</code></pre>
<p>Check if at least one element evaluates to <code>TRUE</code>:</p>
<pre><code>any(1:3 &gt; 2) # TRUE, 3 is bigger than 2</code></pre>
<p>Check if all elements evaluate to <code>TRUE</code>:</p>
<pre><code>all(10:20 &gt;= 11) # FALSE, 10 is smaller than 11</code></pre>
<h3 id="logical-operations"><span class="header-section-number">1.6.1</span> Logical Operations</h3>
<p>Compare boolean values using double operators:</p>
<pre><code>TRUE &amp;&amp; TRUE # logical AND, returns TRUE
FALSE || TRUE # logical OR, returns FALSE
!TRUE # logical NOT, returns FALSE</code></pre>
<p>Compare elements of a vector (or a matrix, or an array of higher dimensions) using single operators:</p>
<pre><code>c(T, F, F) &amp; c(T, T, F) # TRUE FALSE FALSE
c(T, T, T) | c(T, T, F) # TRUE TRUE FALSE</code></pre>
<p>Single operators have the same behaviour as double operators when applied to scalar values rather than vectors. Double operators applied to vectors will only apply to the first elements of the vectors involved:</p>
<pre><code>TRUE &amp; FALSE # FALSE
FALSE | TRUE # TRUE

c(T, F, F) &amp;&amp; c(T, T, T) # TRUE
c(F, T, T) || c(F, T, T) # FALSE</code></pre>
<h3 id="element-selection"><span class="header-section-number">1.6.2</span> Element Selection</h3>
<p>Select elements of a vector (or a matrix, or an array) using logical flags:</p>
<pre><code>v &lt;- 1:5 # 1 2 3 4 5
v[c(T, T, F, T, F)] # using a &quot;flag&quot; vector, returns 1 2 4
v[v &gt;= 3] # using a condition, returns 3 4 5</code></pre>
<p>Select every other element using vector recycling:</p>
<pre><code>v &lt;- 1:10
v[c(1,0)] # 1 3 5 7 9</code></pre>
<p>Select all leap years of a range of years:</p>
<pre><code>y &lt;- 1987:2017
y[y %% 4 == 0 &amp; (y %% 100 != 0 | y %% 400 == 0)]
# 1988 1992 1996 2000 2004 2008 2012 2016</code></pre>
<p>Set all negative values to zero:</p>
<pre><code>v &lt;- -3:3 # -3 -2 -1 0 1 2 3
v[v &lt; 0] = 0 # 0 0 0 0 1 2 3</code></pre>
<p>Find out the indices of items matching a condition using the <code>which()</code> function:</p>
<pre><code>v &lt;- 3:8 # 3 4 5 6 7 8
which(x = (v %% 2 == 0)) # indices of even numbers: 2 4 6</code></pre>
<p>The resulting vector can be used to invert the selection:</p>
<pre><code>v[-which(x = (v %% 2 == 0))] # indices of odd numbers: 1 3 5 </code></pre>
<p>By default, <code>which()</code> treatens matrices just like vectors:</p>
<pre><code>m &lt;- matrix(2:10, ncol = 3)

2   5   8
3   6   9
4   7  10

which(x = (m %% 2 == 1)) ## odd element&#39;s indices: 2 4 6 8</code></pre>
<p>To get row/col coordinates, use the <code>arr.ind</code> flag:</p>
<pre><code>which(x = (m %% 2 == 1), arr.ind = TRUE)

row col
  2   1
  1   2
  3   2
  2   3</code></pre>
<h2 id="strings"><span class="header-section-number">1.7</span> Strings</h2>
<p>Store a simple string:</p>
<pre><code>s &lt;- &quot;This is a simple string!&quot;</code></pre>
<p>Find out the length of a string:</p>
<pre><code>nchar(&quot;foobar&quot;) # 6
length(&quot;foobar&quot;) # 1, a string is considered a vector of length 1</code></pre>
<p>Compare strings:</p>
<pre><code>&quot;foo&quot; == &quot;foo&quot; # TRUE
&quot;foo&quot; == &quot;bar&quot; # FALSE
&quot;bar&quot; == c(&quot;foo&quot;, &quot;bar&quot;, &quot;qux&quot;) # FALSE TRUE FALSE</code></pre>
<p>Compare strings using alphabetic order:</p>
<pre><code>&quot;Anna&quot; &gt; &quot;Berti&quot; # TRUE</code></pre>
<p>Uppercase strings are considered bigger than lowercase string:</p>
<pre><code>&quot;A&quot; &gt; &quot;a&quot; # TRUE
&quot;B&quot; &lt;= &quot;b&quot; # FALSE</code></pre>
<p>This distinction only applies to alphabetically equivalent strings:</p>
<p>“A” &gt; “z” # FALSE</p>
<p>Almost all characters can be used within a string. Double quotes and backslashes have to be escaped using a backslash:</p>
<pre><code>&quot;He said: \&quot;a backslash: \\...\&quot;&quot; # He said: &quot;a backslash: \...&quot;</code></pre>
<p>Other escape sequences are:</p>
<pre><code>\n  line break
\t  tab
\b  backspace</code></pre>
<p>For a complete list of escape sequences, type <code>?Quotes</code>.</p>
<h3 id="concatenation"><span class="header-section-number">1.7.1</span> Concatenation</h3>
<p>Strings can be concatenated:</p>
<pre><code>cat(&quot;hello&quot;, &quot;world&quot;) # prints &quot;hello world&quot;
paste(&quot;hello&quot;, &quot;world&quot;) # returns &quot;hello world&quot;</code></pre>
<p>The separator (a space character, by default) can be defined:</p>
<pre><code>cat(&quot;foo&quot;, &quot;bar&quot;, &quot;qux&quot;, sep=&quot;---&quot;) # &quot;foo---bar---qux&quot;
cat(&quot;foo&quot;, &quot;bar&quot;, &quot;qux&quot;, sep=&quot;&quot;) # &quot;foobarqux</code></pre>
<p>Numbers are automatically converted to strings (<em>coercion</em>):</p>
<pre><code>numbers &lt;- 5:1
cat(&quot;Countdown:&quot;, numbers) # Countdown: 5 4 3 2 1
cat(2, &quot;times&quot;, 3, &quot;is&quot;, 2 * 3) # 2 times 3 is 6
cat(&quot;is&quot;, 5, &quot;bigger than&quot;, 7, 5 &gt; 7) # is 5 bigger than 7 FALSE</code></pre>
<h3 id="substrings-and-replacements"><span class="header-section-number">1.7.2</span> Substrings and Replacements</h3>
<p>Extract a substring (using 1-based inclusive indices):</p>
<pre><code>substr(x = &quot;this is&quot;, start = 1, stop = 4) # &quot;this&quot;</code></pre>
<p>Substrings can be replaced by other strings of the same length:</p>
<pre><code>s &lt;- &quot;this is cool&quot;
substr(x = s, start = 1, stop = 4) &lt;- &quot;that&quot; # &quot;that is cool&quot;</code></pre>
<p>Replacements are done more effectively using <code>sub()</code> (replaces the first occurence) and <code>gsub()</code> (replaces all occurences):</p>
<pre><code>s &lt;- &quot;foo too&quot;
sub(pattern = &quot;oo&quot;, x = s, replacement = &quot;u&quot;) # fu too
gsub(pattern = &quot;oo&quot;, x = s, replacement = &quot;u&quot;) # fu tu</code></pre>
<h2 id="factors"><span class="header-section-number">1.8</span> Factors</h2>
<p>Factors are a special kind of vectors for storing categorial data, similar to enumerations in Java or C. Next to the value, factors also store a level:</p>
<pre><code>colors &lt;- factor(c(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;))</code></pre>
<p>When a factor is subsetted, <em>some</em> of the values but <em>all</em> of the levels stay:</p>
<pre><code>colors[1:2]

red green
Levels: blue red green</code></pre>
<p>Factors allow ordering:</p>
<pre><code>weekdays &lt;- c(&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, Sun&quot;)
workdays &lt;- c(&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;)
factor(x = workdays, levels = weekdays, ordered = TRUE)

Mon Tue Wed Thu Fri
Levels: Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat &lt; Sun</code></pre>
<h3 id="cutting"><span class="header-section-number">1.8.1</span> Cutting</h3>
<p>The <code>cut()</code> function can be used to break up data points on a continuum into discrete intervals:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">weights &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">72</span>, <span class="dv">83</span>, <span class="dv">61</span>, <span class="dv">119</span>, <span class="dv">88</span>, <span class="dv">155</span>)
w.breaks &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">70</span>, <span class="dv">90</span>, <span class="dv">120</span>, <span class="dv">200</span>)
<span class="kw">cut</span>(<span class="dt">x =</span> weights, <span class="dt">breaks =</span> w.breaks)</code></pre></div>
<p>Output:</p>
<pre><code>(70,90]   (70,90]   (0,70]    (90,120]  (70,90]   (120,200]
Levels: (0,70] (70,90] (90,120] (120,200]</code></pre>
<p><code>(70,90]</code> means: from 70 exclusive to 90 inclusive. Use the parameter <code>right = FALSE</code> for inclusive/exclusive intervals (<code>[70,90)</code>).</p>
<p>The intervals can be named using labels:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">w.labels &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;normal&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;obese&quot;</span>)
<span class="kw">cut</span>(<span class="dt">x =</span> weights, <span class="dt">breaks =</span> w.breaks, <span class="dt">labels =</span> w.labels)</code></pre></div>
<p>Output:</p>
<pre><code>normal normal low high normal obese
Levels: low normal high obese</code></pre>
<h3 id="splitting"><span class="header-section-number">1.8.2</span> Splitting</h3>
<p>Split the data up into a list grouped by the factor:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">segments &lt;-<span class="st"> </span><span class="kw">cut</span>(<span class="dt">x =</span> weights, <span class="dt">breaks =</span> w.breaks, <span class="dt">labels =</span> w.labels)
groups &lt;-<span class="st"> </span><span class="kw">split</span>(<span class="dt">x =</span> weights, <span class="dt">f =</span> segments)</code></pre></div>
<p>Output:</p>
<pre><code>$low
[1] 61

$normal
[1] 72 83 88

$high
[1] 119

$obese
[1] 155</code></pre>
<h2 id="lists"><span class="header-section-number">1.9</span> Lists</h2>
<p>Lists can contain elements of different data types, including other lists, matrices etc.</p>
<p>Create a list containing three different sized vectors of different types:</p>
<pre><code>l &lt;- list(c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), c(1:5), c(TRUE, FALSE)) </code></pre>
<p>To acces list elements, use double square brackets:</p>
<pre><code>l[[1]] # the vector &quot;a&quot; &quot;b&quot; &quot;c&quot;
l[[2]] # the vector 1 2 3 4 5
l[[3]] # the vector TRUE FALSE

l[[1]] &lt;- c(&quot;X&quot;, &quot;Y&quot;) # overwrite the first element

l[[3]][2] # the second vector element of the third list item (FALSE)</code></pre>
<p>To access multiple elements at once, use list slicing rather than double square brackets:</p>
<pre><code>l[c(2,3)] # the vectors 1 2 3 4 5 and TRUE FALSE</code></pre>
<p>List elements can be named:</p>
<pre><code>names(l) &lt;- c(&quot;chars&quot;, &quot;numbers&quot;, &quot;logicals&quot;)</code></pre>
<p>List elements can also be named upon initialization:</p>
<pre><code>l &lt;- list(chars = c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), numbers = 1:5, logicals = c(T, F))
names(l) # &quot;chars&quot; &quot;numbers&quot; &quot;logicals&quot;</code></pre>
<p>To access list elements by name (rather than index), use dollar notation:</p>
<pre><code>l$chars # &quot;a&quot; &quot;b&quot; &quot;c&quot;
l$numbers # 1 2 3 4 5
l$logicals # TRUE FALSE

l$chars[1] # &quot;a&quot;
l$numbers[5] # 5
l$logicals[2] # FALSE</code></pre>
<p>An element can be added to the list by assignment:</p>
<pre><code>l$newElement &lt;- c(&quot;new&quot;, &quot;character&quot;, &quot;vector&quot;)</code></pre>
<p>Lists can also be nested:</p>
<pre><code>foo &lt;- list(char = &quot;A&quot;, num = 1, logical = TRUE)
bar &lt;- list(char = &quot;z&quot;, num = 9, logical = FALSE)

l &lt;- list(first = foo, second = bar)

l$first$char # &quot;A&quot;
l$second$logical # FALSE</code></pre>
<h2 id="data-frames"><span class="header-section-number">1.10</span> Data Frames</h2>
<p>A data frame is a special kind of list with the restriction that the members must be all vectors of equal length. (Shorter vectors will be recycled, if possible).</p>
<p>Create a data frame:</p>
<pre><code>s &lt;- c(&quot;cow&quot;, &quot;spider&quot;, &quot;whale&quot;)
l &lt;- c(4, 8, 0)
m &lt;- c(T, F, T)
animals &lt;- data.frame(species = s, legs = l, mammal = m)</code></pre>
<p>Output (a table with named columns and numbered rows):</p>
<pre><code>  species legs mammal
1     cow    4   TRUE
2  spider    8  FALSE
3   whale    0   TRUE</code></pre>
<p>Elements can be accessed like matrices using row and column indices:</p>
<pre><code>animals[3][1] # whale
animals[,2] # 4 8 0
animals[c(1,3),1] # cow whale</code></pre>
<p>Since the element vectors of a data frame are named, they can be accessed using that name:</p>
<pre><code>animals$species # cow spider whale
animals$species[2] # spider</code></pre>
<p>The dimensions of a data frame can be explored using the same functions as for matrices:</p>
<pre><code>nrow(animals) # 3
ncol(animals) # 3
dim(animals) # 3 3</code></pre>
<p>String values are treated as factors by default. This can be prevented upon creation:</p>
<pre><code>a &lt;- data.frame(species = s, legs = l, mammal = m, stringsAsFactors = F)</code></pre>
<p>If certain (but not all) non-numeric colums should be factors, they have to be created as factors in the first place:</p>
<pre><code>s &lt;- c(&quot;cow&quot;, &quot;spider&quot;, &quot;whale&quot;)
l &lt;- c(4, 8, 0)
m &lt;- factor(c(T, F, T))
a &lt;- data.frame(species = s, legs = l, mammal = m, stringsAsFactors = F)</code></pre>
<p>Rows can be added to a data frame by creating a new data frame of similar structure and adding it to the existing data frame:</p>
<pre><code>bird &lt;- data.frame(species = &quot;bird&quot;, legs = 2, mammal = FALSE)
a &lt;- rbind(a, bird)</code></pre>
<p>Columns can be added to a data frame by creating a new vector and adding it:</p>
<pre><code>area &lt;- c(&quot;land&quot;, &quot;land&quot;, &quot;sea&quot;, &quot;air&quot;)
a &lt;- cbind(a, area)</code></pre>
<p>New columns can also made up using values of existing columns:</p>
<pre><code>a$toesPerFoot = c(0, 0, 0, 3)
a$toes = a$legs * a$toesPerFoot</code></pre>
<p>Rows can be selected using logical expressions:</p>
<pre><code>a[a$mammal == TRUE, 1] # selects the first mammal of the data frame</code></pre>
<p>To select multiple columns, a vector of names can be used:</p>
<pre><code>a[1:2,c(&quot;species&quot;, &quot;mammal&quot;)] # columns species and mammal of row 1 and 2</code></pre>
<h2 id="special-values"><span class="header-section-number">1.11</span> Special Values</h2>
<h3 id="infinity"><span class="header-section-number">1.11.1</span> Infinity</h3>
<p>Infinity (<code>Inf</code>) is not a number, but a concept describing a number higher than the highest representable number, which is platform dependent::</p>
<pre><code>12800 ^ 75 # 1.098368e+308
12900 ^ 75 # Inf</code></pre>
<p>There is positive and negative infinity (<code>-Inf</code>):</p>
<pre><code>Inf &gt; 10e24 # TRUE
-Inf &lt; -10e24 # TRUE</code></pre>
<p>Arithmetic operations involving infinity always result in (positive or negative) infinity:</p>
<pre><code>10e24 - Inf # -Inf
2 * Inf == Inf # TRUE
Inf + Inf - 2 * -Inf == 0 # FALSE</code></pre>
<p>Expressions can be tested for finity/infinity:</p>
<pre><code>is.finite(12800^75) # TRUE (on my machine)
is.infinite(12900^75) # TRUE (ditto)
is.finite(5 / 0) # FALSE</code></pre>
<h3 id="not-a-number"><span class="header-section-number">1.11.2</span> Not a Number</h3>
<p>Some expressions cannot be represented as a number. They are represented as <code>NaN</code>:</p>
<pre><code>0 / 0 # NaN
-Inf + Inf # NaN
Inf / Inf # NaN</code></pre>
<p><code>NaN</code> is not considered finite:</p>
<pre><code>is.finite(NaN) # FALSE</code></pre>
<p>Expressions can be tested if they are “not a number”:</p>
<pre><code>is.nan(NaN) # TRUE
is.nan(134) # FALSE
is.nan(5 / 0) # FALSE, it&#39;s a number considered infinite
is.nan(0 / 0) # TRUE
is.nan(sqrt(-1)) # TRUE

!is.nan(13.7) # TRUE
!is.nan(13000 ^ 75) # TRUE, it&#39;s a infinite number (on my machine)</code></pre>
<h3 id="null"><span class="header-section-number">1.11.3</span> NULL</h3>
<p><code>NULL</code> stands for emptiness – in contrast to <code>NA</code>, which stands for a missing entry. As opposed to <code>NA</code>, <code>NULL</code> cannot be part of a vector:</p>
<pre><code>v &lt;- c(1, 2, NULL, 4) # 1 2 4
length(v) # 3, not 4
c(NULL, NULL, NULL) # NULL</code></pre>
<p><code>NULL</code> values can be detected:</p>
<pre><code>foo &lt;- NULL
is.null(foo) # TRUE

bar &lt;- &quot;hello&quot;
is.null(bar) # FALSE</code></pre>
<p><code>NULL</code> can be used in arithmetic expressions with the effect of returning the resulting type.</p>
<pre><code>17 + NULL # numeric(0)
NULL &gt;= 5 # logical(0)</code></pre>
<p><code>NULL</code> dominates in combination with <code>Inf</code>, <code>NaN</code> and <code>NA</code>:</p>
<pre><code>NULL + Inf - NaN + 3 * NA # numeric(0)</code></pre>
<h2 id="objects"><span class="header-section-number">1.12</span> Objects</h2>
<h3 id="attributes"><span class="header-section-number">1.12.1</span> Attributes</h3>
<p>Every object can store additional attributes:</p>
<pre><code>o &lt;- 42
o.description = &quot;The answer to everything&quot;</code></pre>
<p>Show the attributes of an object:</p>
<pre><code>m &lt;- matrix(1:4, ncol = 2)
attributes(m)

$dim
2 2</code></pre>
<p>Access an attribute:</p>
<pre><code>attributes(m)$dim # 2 2
attr(x = m, which = &quot;dim&quot;) # same using a string</code></pre>
<p>Some attributes have their own function:</p>
<pre><code>dim(m) # 2 2</code></pre>
<h3 id="classes"><span class="header-section-number">1.12.2</span> Classes</h3>
<p>Find out the class of an object:</p>
<pre><code>class(c(1, 2, 3)) # &quot;numeric&quot;
class(&quot;foo&quot;) # &quot;character&quot;
class(matrix(1:4)) # &quot;matrix&quot;
class(array(1:100)) # &quot;array&quot;
class(factor(c(&quot;R&quot;, &quot;G&quot;, &quot;B&quot;))) # &quot;factor&quot;
class(5 &gt; 3) # &quot;logical&quot;
class(length(c(1, 2, 3))) # &quot;integer&quot;</code></pre>
<p>Some objects have multiple classes due to ineritance:</p>
<pre><code>bits &lt;- factor(x = c(1, 0, 0, 1, 0), levels = c(0, 1), ordered = TRUE)
class(bits) # &quot;ordered&quot; &quot;factor&quot;</code></pre>
<p>Objects can be checked whether or not they are of a certain class:</p>
<pre><code>is.numeric(3) # TRUE
is.character(&quot;abc&quot;) # TRUE
is.matrix(matrix(1:4)) # TRUE
is.array(array(1:100)) # TRUE
is.factor(factor(c(1, 0, 1, 1, 0))) # TRUE
is.logical(5 &gt; 3) # TRUE
is.integer(length(1:3)) # TRUE
is.vector(1:3) # TRUE</code></pre>
<p>Convert explicitly from one type to another (coercion):</p>
<pre><code>as.numeric(&quot;12&quot;) # 12
as.numeric(&quot;1.2e5&quot;) # 12000
as.character(13) # &quot;13&quot;
as.numeric(&quot;howdy!&quot;) # NA
as.logical(0) # FALSE
as.logical(as.numeric(c(&quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;))) # TRUE FALSE FALSE TRUE

m &lt;- matrix(1:4, ncol = 2)
as.vector(m) # 1 2 3 4

a &lt;- array(1:8, dim = c(2, 2, 2))
as.matrix(a)

1
2
3
4
5
6
7
8

as.vector(a) # 1 2 3 4 5 6 7 8</code></pre>
<h2 id="plotting"><span class="header-section-number">1.13</span> Plotting</h2>
<p>Simple plots can be drawn using two vectors of x and y coordinates of the same length:</p>
<pre><code>x &lt;- c(3, 2, 7, 8)
y &lt;- c(2, 5, 6, 1)
plot(x, y)</code></pre>
<p>When using matrices for plotting, the first column holds the x values, and the second column holds the y values:</p>
<pre><code>m &lt;- matrix(1:4, ncol = 2)

1   3   # point (1;3)
2   4   # point (2;4)

plot(m)</code></pre>
<p>When using a single vector for plotting, each value serves as the x and the y coordinate at the same time:</p>
<pre><code>plot(1:3) # plots (1;1), (2;2), (3;3)</code></pre>
<p>Plots can be (optically) enhanced using various options:</p>
<ul>
<li><code>type</code>: the plotting style, a single character
<ul>
<li><code>&quot;p&quot;</code>: points</li>
<li><code>&quot;l&quot;</code>: lines</li>
<li><code>&quot;b&quot;</code>: both (points and lines)</li>
<li><code>&quot;c&quot;</code>: empty points joined by lines</li>
<li><code>&quot;o&quot;</code>: overplotted points and lines</li>
<li><code>&quot;s&quot;</code>: stair steps (lower Riemann areas)</li>
<li><code>&quot;S&quot;</code>: stair steps (upper Riemann areas)</li>
<li><code>&quot;n&quot;</code>: none</li>
</ul></li>
<li><code>main</code>: the main title of the plot, characters</li>
<li><code>xlab</code>, <code>ylab</code>: labels for the x and y axis, characters</li>
<li><code>pch</code>: the character to be used to draw the dots, either a number from 1 to 25 (pre-defined styles) or any single character</li>
<li><code>cex</code>: character expansion, stretches the point by the given factor, a number</li>
<li><code>lty</code>: the line type (<code>&quot;solid&quot;</code>, <code>&quot;dotted&quot;</code> or <code>&quot;dashed&quot;</code>)</li>
<li><code>lwd</code>: the line width, a number</li>
<li><code>xlim</code>, <code>ylim</code>: horizontal and vertical ranges as vectors (<code>c(lower, upper)</code>)</li>
<li><code>col</code>: the color for the dots/lines, either a color name, a number (from 1 to</li>
</ul>
<ol start="8" type="1">
<li>or a hex code (like <code>#ffffff</code> for white)</li>
</ol>
<h3 id="additional-elements"><span class="header-section-number">1.13.1</span> Additional Elements</h3>
<p>Calling the <code>plot()</code> function always creates a new output and removes the old one. Elements can be added to an existing plot using these functions:</p>
<pre><code>lines(x = c(1, 3, 2), y = c(3, 1, 2))
# plots a line connecting P(1;3), P(3;1) and P(2;2)

points(x = c(1, 3, 2), y = c(3, 1, 2))
# plots the points P(1;3), P(3;1) and P(2;2)

text(x = 5, y = 3, &quot;Nothing&quot;) # the text &quot;Nothing&quot; centered around P(5;3)

arrows(x0 = 1, y0 = 2, x1 = 4, y1 = 7)
# draws an arrow pointing from P(1;2) to P(4;7)

abline(a = 2, b = 3) # line with the slope 2 and y intercept 3 (P(0;3), that is)

abline(h = 2) # a horizontal line on y = 2
abline(v = 1) # a vertical line on x = 1

segments(x0 = c(1, 4), y0 = c(1, 1), x1 = c(1, 4), y1 = c(5, 5))
# two vertical lines from P(1;1) to P(1;5) and from P(4;1) to P(4;5)

legend(x = &quot;bottomleft&quot;, legend = c(&quot;Male&quot;, &quot;Female&quot;), pch = c(&quot;+&quot;, &quot;x&quot;))
# a legend on the bottom left position (+: Male, x: Female)</code></pre>
<h3 id="saving-plots-to-files"><span class="header-section-number">1.13.2</span> Saving Plots to Files</h3>
<p>Plots can be saved to files. Various formats are supported, for example PNG, JPEG, TIFF, BMP, PDF and EPS (postscript). Plotting to a screen is a special case of plotting: it draws directly on the screen device. Files are handled as devices, too..</p>
<p>In order to save a plot to a file, just open the file device, do the plots and close the device:</p>
<pre><code>png(filename = &quot;plot.png&quot;)
plot(1:10, 2:11)
dev.off()</code></pre>
<p>The dimensions are 480x480 pixels by default, but can be overwritten:</p>
<pre><code>png(filename = &quot;plot.png&quot;, width = 800, height = 600)</code></pre>
<p>Other units than pixels can be used when providing the DPI resolution:</p>
<pre><code>png(filename = &quot;plot.png&quot;, width = 9, height = 8, units = &quot;cm&quot;, res = 300)</code></pre>
<p>For postscript and PDF output, the default unit is inches – and the filename parameter is called <code>file</code>:</p>
<pre><code>pdf(file = &quot;plot.pdf&quot;, width = 8, height = 6)</code></pre>
<p>For SVG output, parameters such as the font and the background can be defined:</p>
<pre><code>svg(filename = &quot;plot.svg&quot;, family = &quot;serif&quot;, bg = &quot;grey&quot;)</code></pre>
<h3 id="plotting-examples"><span class="header-section-number">1.13.3</span> Plotting Examples</h3>
<h4 id="example-1-drawing-features"><span class="header-section-number">1.13.3.1</span> Example 1: Drawing Features</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">c</span>(), <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">3</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">13</span>), <span class="dt">xlab=</span><span class="st">&quot;&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;&quot;</span>)
<span class="kw">abline</span>(<span class="dt">v =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>,<span class="dv">3</span>), <span class="dt">h =</span> <span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">13</span>), <span class="dt">lty =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;grey&quot;</span>, <span class="dt">lwd =</span> <span class="dv">3</span>)
x0 =<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="fl">2.5</span>, <span class="op">-</span><span class="fl">2.5</span>, <span class="op">-</span><span class="fl">2.5</span>, <span class="fl">2.5</span>, <span class="fl">2.5</span>, <span class="fl">2.5</span>)
y0 =<span class="st"> </span><span class="kw">c</span>(<span class="fl">7.5</span>, <span class="dv">10</span>, <span class="fl">12.5</span>, <span class="fl">12.5</span>, <span class="dv">10</span>, <span class="fl">7.5</span>)
x1 =<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)
y1 =<span class="st"> </span><span class="kw">c</span>(<span class="fl">9.5</span>, <span class="dv">10</span>, <span class="fl">10.5</span>, <span class="fl">10.5</span>, <span class="dv">10</span>, <span class="fl">9.5</span>)
<span class="kw">arrows</span>(x0, y0, x1, y1)
<span class="kw">text</span>(<span class="dt">x =</span> <span class="dv">0</span>, <span class="dt">y =</span> <span class="dv">10</span>, <span class="st">&quot;SOMETHING</span><span class="ch">\n</span><span class="st">PROFOUND&quot;</span>)</code></pre></div>
<figure>
<img src="pic/07-demo1.png" alt="Example 1: Various Drawing Features" /><figcaption>Example 1: Various Drawing Features</figcaption>
</figure>
<h4 id="example-2-colored-graph-and-legend"><span class="header-section-number">1.13.3.2</span> Example 2: Colored Graph and Legend</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fw &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">55</span>, <span class="dv">42</span>, <span class="dv">58</span>, <span class="dv">67</span>)
fh &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">161</span>, <span class="dv">154</span>, <span class="dv">170</span>, <span class="dv">178</span>)
mw &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">85</span>, <span class="dv">75</span>, <span class="dv">93</span>, <span class="dv">63</span>, <span class="dv">75</span>, <span class="dv">89</span>)
mh &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">185</span>, <span class="dv">174</span>, <span class="dv">188</span>, <span class="dv">178</span>, <span class="dv">167</span>, <span class="dv">181</span>)
<span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">c</span>(), <span class="dt">main =</span> <span class="st">&quot;Female/Male: Height by Weight&quot;</span>,
    <span class="dt">xlab =</span> <span class="st">&quot;Weight (kg)&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Height (cm)&quot;</span>,
    <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">40</span>, <span class="dv">100</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">150</span>, <span class="dv">200</span>))
<span class="kw">points</span>(fw, fh, <span class="dt">pch =</span> <span class="st">&quot;♀&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
<span class="kw">points</span>(mw, mh, <span class="dt">pch =</span> <span class="st">&quot;♂&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>)
<span class="kw">legend</span>(<span class="dt">x =</span> <span class="st">&quot;topleft&quot;</span>, <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>),
    <span class="dt">pch =</span> <span class="kw">c</span>(<span class="st">&quot;♀&quot;</span>,<span class="st">&quot;♂&quot;</span>), <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>))</code></pre></div>
<figure>
<img src="pic/07-demo2.png" alt="Example 2: Colored Graph with Legend" /><figcaption>Example 2: Colored Graph with Legend</figcaption>
</figure>
<h4 id="example-3-law-of-large-numbers"><span class="header-section-number">1.13.3.3</span> Example 3: Law of Large Numbers</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nTosses &lt;-<span class="st"> </span><span class="dv">500</span>

## toss the coin, get head (&quot;H&quot;) or tails (&quot;T&quot;)
tosses &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&#39;H&#39;</span>, <span class="st">&#39;T&#39;</span>), <span class="dt">size =</span> nTosses, <span class="dt">replace =</span> <span class="ot">TRUE</span>)

v &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, <span class="kw">length</span>(tosses))
heads &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">tossNumber =</span> v, <span class="dt">headCount =</span> v, <span class="dt">headRatio =</span> v)

<span class="cf">for</span> (n <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(v)) {
  h &lt;-<span class="st"> </span><span class="dv">0</span>
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n) {
    <span class="cf">if</span> (tosses[i] <span class="op">==</span><span class="st"> &#39;H&#39;</span>) {
      h &lt;-<span class="st"> </span>h <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
    }
  }
  heads<span class="op">$</span>tossNumber[n] =<span class="st"> </span>n
  heads<span class="op">$</span>headCount[n] =<span class="st"> </span>h
  heads<span class="op">$</span>headRatio[n] =<span class="st"> </span>heads<span class="op">$</span>headCount[n] <span class="op">/</span><span class="st"> </span>n
}

<span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">c</span>(), <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, nTosses), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),
    <span class="dt">main =</span> <span class="st">&quot;Coin Tosses&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;Toss Number&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Heads Ratio&quot;</span>)
<span class="kw">abline</span>(<span class="dt">h =</span> <span class="fl">0.5</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
<span class="kw">lines</span>(<span class="dt">x =</span> heads<span class="op">$</span>tossNumber, <span class="dt">y =</span> heads<span class="op">$</span>headRatio)
<span class="kw">axis</span>(<span class="dt">side =</span> <span class="dv">2</span>, <span class="dt">at =</span> <span class="kw">c</span>(<span class="fl">0.5</span>))</code></pre></div>
<figure>
<img src="pic/coins.png" alt="Example 3: Coin Tosses: Law of Large Numbers" /><figcaption>Example 3: Coin Tosses: Law of Large Numbers</figcaption>
</figure>
<h2 id="pre-installed-data-sets"><span class="header-section-number">1.14</span> Pre-Installed Data Sets</h2>
<p>R comes with of pre-installed data sets, which can be listed:</p>
<pre><code>library(help = &quot;datasets&quot;)</code></pre>
<p>To get more information about one of the data sets listed, just use the help function:</p>
<pre><code>?Titanic # Survival of passengers on the Titanic</code></pre>
<p>Other data sets can be installed just like packages, for example the <code>tseries</code> package:</p>
<pre><code>install.packages(&quot;tseries&quot;)</code></pre>
<p>Load the <code>ice.river</code> data set into the current workspace:</p>
<pre><code>data(ice.river)</code></pre>
<p>Now the <code>ice.river</code> data set can be accessed and explored like any variable.</p>
<p>A good resource for free statistical example data is the <a href="https://ww2.amstat.org/publications/jse/jse_data_archive.htm">Journal of Statistics Education (JSE)</a>.</p>
<h2 id="working-with-files"><span class="header-section-number">1.15</span> Working with Files</h2>
<h3 id="reading-text-files"><span class="header-section-number">1.15.1</span> Reading Text Files</h3>
<p>Sample file (<code>table.txt</code>):</p>
<pre><code>species mammal legs area
cow TRUE 4 land
spider FALSE  8 land
whale TRUE N/A sea
bird TRUE 2 air</code></pre>
<p>Read tabular data from a file (<code>table.txt</code>):</p>
<pre><code>animals &lt;- read.table(file = &quot;table.txt&quot;, header = TRUE, sep = &quot; &quot;,
    na.strings = &quot;N/A&quot;, stringsAsFactors = FALSE)</code></pre>
<p>Parameters:</p>
<ul>
<li><code>file</code>: the (absolute or relative) file name</li>
<li><code>header</code>: whether or not the first line should be read as a header</li>
<li><code>sep</code>: the seperator (here: one space, use <code>&quot;&quot;</code> for any amount of whitespace)</li>
<li><code>na.strings</code>: define which strings (either a single string or a vector of strings) should be recognized as <code>NA</code> values</li>
<li><code>stringsAsFactors</code>: whether or not string columns should be interpreted as factors (same parameter as for <code>data.frame</code>)</li>
</ul>
<p>If <em>some</em> of the non-numeric columns should be interpreted as factors, simply overwrite them, providing optional levels (in case some possible values are missing in the data set):</p>
<pre><code>animals$area = factor(animals$area)
animals$area = factor(animals$area, levels = c(&quot;air&quot;, &quot;land&quot;, &quot;sea&quot;)</code></pre>
<p>Either use an absolute file path or make sure to change your working directory:</p>
<pre><code>getwd() # &quot;C:/Users/patrick.bucher/Documents/R&quot;
setwd(&quot;tables&quot;) # relative path (absolute paths are also possible)
getwd() # &quot;C:/Users/patrick.bucher/Documents/R/tables&quot;</code></pre>
<p>List all files in the current working directory (for more information type <code>?list.files</code> and <code>?list.dirs</code>):</p>
<pre><code>list.files()</code></pre>
<p>Files can also be choosen interactively, returning the absolute path of the file selected:</p>
<pre><code>myFile &lt;- file.choose()</code></pre>
<p>Files can also be read directly from the web:</p>
<pre><code>forbes500 &lt;- read.table(file = &quot;http://forbes.com/assets/filthy-rich-people.txt&quot;)</code></pre>
<h3 id="reading-csv-files"><span class="header-section-number">1.15.2</span> Reading CSV Files</h3>
<p>Sample file (<code>table.csv</code>):</p>
<pre><code>species,mammal,legs,area
cow,TRUE,4,land
wolf spider,FALSE,8,land
whale,TRUE,N/A,sea
guinea pig,TRUE,4,land</code></pre>
<p>Read the data from a CSV file (with the comma as the default seperator):</p>
<pre><code>animals &lt;- read.csv(file = &quot;table.csv&quot;, header = TRUE,
    stringsAsFactors = TRUE)</code></pre>
<p>CSV files often use the semicolon (<code>;</code>) or the tab (<code>\t</code>) as the seperator value, so make sure to define the <code>sep</code> parameter accordingly:</p>
<pre><code>animals &lt;- read.csv(file = &quot;table.csv&quot;, header = TRUE,
    stringsAsFactors = TRUE, sep = &#39;;&#39;)</code></pre>
<h3 id="writing-files"><span class="header-section-number">1.15.3</span> Writing Files</h3>
<p>Sample data frame:</p>
<pre><code>names &lt;- c(&quot;Sepp&quot;, &quot;Max&quot;, &quot;Uschi&quot;)
sex &lt;- factor(&quot;M&quot;, &quot;M&quot;, &quot;F&quot;)
age &lt;- c(42, 50, 61)
people &lt;- data.frame(person = names, sex = sex, age = age)</code></pre>
<p>Write the data frame to a tabular text file:</p>
<pre><code>write.table(x = people, file = &quot;people.txt&quot;)</code></pre>
<p>Write the data frame to a CSV file:</p>
<pre><code>write.csv(x = people, file = &quot;people.csv&quot;, row.names = TRUE)</code></pre>
<p>The argument <code>row.names</code> adds an unnamed column with a row counter to the output.</p>
<p>Store any single object in a file:</p>
<pre><code>m &lt;- matrix(1:64, ncol = 8) # 8x8 matrix
dput(x = m, file = &quot;matrix.txt&quot;)</code></pre>
<p>Retreive a formerly stored object from a file:</p>
<pre><code>m &lt;- dget(file = &quot;matrix.txt&quot;)</code></pre>
<h2 id="timing"><span class="header-section-number">1.16</span> Timing</h2>
<p>Pause the program execution for a given amount of time (in seconds):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) {
    <span class="kw">print</span>(i)
    <span class="kw">Sys.sleep</span>(<span class="fl">0.5</span>)
}</code></pre></div>
<p>Display a textual progress bar:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">from &lt;-<span class="st"> </span><span class="dv">1</span>
to &lt;-<span class="st"> </span><span class="dv">10</span>
prog &lt;-<span class="st"> </span><span class="kw">txtProgressBar</span>(<span class="dt">min =</span> from, <span class="dt">max =</span> to, <span class="dt">char =</span> <span class="st">&quot;#&quot;</span>, <span class="dt">style =</span> <span class="dv">3</span>)
<span class="kw">cat</span>(<span class="st">&quot;counting from&quot;</span>, from, <span class="st">&quot;to&quot;</span>, to, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
<span class="cf">for</span> (i <span class="cf">in</span> from<span class="op">:</span>to) {
    <span class="kw">setTxtProgressBar</span>(prog, <span class="dt">value =</span> i)
    <span class="kw">Sys.sleep</span>(<span class="fl">0.5</span>)
}
<span class="kw">close</span>(prog)</code></pre></div>
<p>Get the current date and time:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">Sys.time</span>() <span class="co"># returns current date time</span>
<span class="kw">Sys.Date</span>() <span class="co"># returns current date</span></code></pre></div>
<p>Format date and time:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%d.%m.%Y %H:%M&quot;</span>) <span class="co"># 30.07.2017 17:41</span>
<span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">&quot;%s&quot;</span>) <span class="co"># 1501429298, UNIX timestamp</span></code></pre></div>
<p>Measure execution time (difference between two times):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">start &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()
<span class="kw">Sys.sleep</span>(<span class="fl">1.23</span>)
end &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()
diff &lt;-<span class="st"> </span>end <span class="op">-</span><span class="st"> </span>start <span class="co"># diff is of type &quot;difftime&quot;</span>
<span class="kw">as.numeric</span>(diff, <span class="dt">units =</span> <span class="st">&quot;secs&quot;</span>) <span class="co"># time difference in seconds, around 1.23</span></code></pre></div>
<p>Measure duration of a function call (similar to the UNIX command <code>time</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.time</span>(<span class="kw">sqrt</span>(<span class="kw">mean</span>(<span class="dv">1</span><span class="op">:</span><span class="fl">1e9</span>)))</code></pre></div>
<p>Output:</p>
<pre><code> user  system elapsed
1.504   0.233   1.738</code></pre>
<h1 id="programming"><span class="header-section-number">2</span> Programming</h1>
<h2 id="conditions"><span class="header-section-number">2.1</span> Conditions</h2>
<h3 id="if-else-if-else"><span class="header-section-number">2.1.1</span> If, Else If, Else</h3>
<p>Simple <code>if</code>-<code>else if</code>-<code>else</code> conditions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">1</span>) <span class="co"># random number from 1 to 10</span>

<span class="cf">if</span> (r <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span>) {
   <span class="kw">print</span>(<span class="st">&quot;big&quot;</span>)
} <span class="cf">else</span> <span class="cf">if</span> (r <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span>) {
   <span class="kw">print</span>(<span class="st">&quot;small&quot;</span>)
} <span class="cf">else</span> {
   <span class="kw">print</span>(<span class="st">&quot;medium&quot;</span>)
}</code></pre></div>
<p>Combined logical conditions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">year &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">1900</span><span class="op">:</span><span class="dv">2100</span>), <span class="dv">1</span>) <span class="co"># a random year from 1900 to 2100</span>

<span class="cf">if</span> (year <span class="op">%%</span><span class="st"> </span><span class="dv">4</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;&amp;</span><span class="st"> </span>(year <span class="op">%%</span><span class="st"> </span><span class="dv">100</span> <span class="op">!=</span><span class="st"> </span><span class="dv">0</span> <span class="op">||</span><span class="st"> </span>year <span class="op">%%</span><span class="st"> </span><span class="dv">400</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>)) {
    <span class="kw">cat</span>(year, <span class="st">&quot;is a leap year&quot;</span>)
} <span class="cf">else</span> {
    <span class="kw">cat</span>(year, <span class="st">&quot;is not a leap year&quot;</span>)
}</code></pre></div>
<p>Apply conditions to a series of numbers:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">5</span>) <span class="co"># 5 numbers from 1 to 10</span>
y &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dv">5</span>) <span class="co"># 5 numbers from 0 to 2</span>

q &lt;-<span class="st"> </span><span class="kw">ifelse</span>(<span class="dt">test =</span> (y <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>), <span class="dt">yes =</span> (x <span class="op">/</span><span class="st"> </span>y), <span class="dt">no =</span> <span class="ot">NA</span>)
<span class="co"># divide x by y if y is not equal to y, otherwhise return NA</span></code></pre></div>
<h3 id="switch-case"><span class="header-section-number">2.1.2</span> Switch-Case</h3>
<p>Switch-case in R is implemented as a function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">animal &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;Spider&quot;</span>, <span class="st">&quot;Cow&quot;</span>, <span class="st">&quot;Bird&quot;</span>), <span class="dv">1</span>)
legs &lt;-<span class="st"> </span><span class="cf">switch</span>(<span class="dt">EXPR =</span> animal, <span class="dt">Spider =</span> <span class="dv">8</span>, <span class="dt">Cow =</span> <span class="dv">4</span>, <span class="dt">Bird =</span> <span class="dv">2</span>)
<span class="kw">cat</span>(animal, legs) <span class="co"># prints either &quot;Spider 8&quot;, &quot;Cow 4&quot; or &quot;Bird 2&quot;</span></code></pre></div>
<h2 id="loops"><span class="header-section-number">2.2</span> Loops</h2>
<h3 id="for-loops"><span class="header-section-number">2.2.1</span> For Loops</h3>
<p>Loop over the elements of a vector (by value):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">abc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)
<span class="cf">for</span> (i <span class="cf">in</span> abc) {
    <span class="kw">print</span>(i)
}
<span class="co"># prints &quot;A&quot; &quot;B&quot; &quot;C&quot;</span></code></pre></div>
<p>Loop over the elements of a vector (by index):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">abc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(abc)) {
    <span class="kw">print</span>(abc[i])
}
<span class="co"># prints &quot;A&quot; &quot;B&quot; &quot;C&quot;, too</span></code></pre></div>
<p>Nested loops (implementing the “Bubble Sort” algorithm):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">10</span>)
<span class="kw">print</span>(x)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(x)) {
    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(x)) {
        <span class="cf">if</span> (x[i] <span class="op">&lt;</span><span class="st"> </span>x[j]) {
            tmp &lt;-<span class="st"> </span>x[i]
            x[i] &lt;-<span class="st"> </span>x[j]
            x[j] &lt;-<span class="st"> </span>tmp
        }
    }
}</code></pre></div>
<h3 id="while-loops"><span class="header-section-number">2.2.2</span> While Loops</h3>
<p>Loop as long as a condition holds true:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">3</span>
<span class="cf">while</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">print</span>(x)
    x &lt;-<span class="st"> </span>x <span class="op">-</span><span class="st"> </span><span class="dv">1</span>
}
<span class="co"># prints 3 2 1</span></code></pre></div>
<p>Use a loop to get input from the user:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">number =<span class="st"> </span><span class="dv">0</span>
<span class="cf">while</span> (number <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span>) {
    input =<span class="st"> </span><span class="kw">readline</span>(<span class="dt">prompt =</span> <span class="st">&quot;Enter a positive number: &quot;</span>)
    number =<span class="st"> </span><span class="kw">as.numeric</span>(input)
} </code></pre></div>
<h3 id="implicit-looping"><span class="header-section-number">2.2.3</span> Implicit Looping</h3>
<p>Apply a function to the columns or rows of a matrix (define the dimension the function should be applied to using the <code>MARGIN</code> parameter):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">16</span>, <span class="dv">16</span>), <span class="dt">ncol =</span> <span class="dv">2</span>)
rowSums =<span class="st"> </span><span class="kw">apply</span>(<span class="dt">X =</span> m, <span class="dt">MARGIN =</span> <span class="dv">1</span>, <span class="dt">FUN =</span> sum)
colSums =<span class="st"> </span><span class="kw">apply</span>(<span class="dt">X =</span> m, <span class="dt">MARGIN =</span> <span class="dv">2</span>, <span class="dt">FUN =</span> sum)</code></pre></div>
<p>Create a random matrix, sum up its rows and put the result in a new matrix:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">numbers &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>, <span class="dv">8</span>)
m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> numbers, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>)))
rowSums &lt;-<span class="st"> </span><span class="kw">apply</span>(<span class="dt">X =</span> m, <span class="dt">MARGIN =</span> <span class="dv">1</span>, <span class="dt">FUN =</span> sum)
colums &lt;-<span class="st"> </span><span class="kw">cbind</span>(m, rowSums)
m2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(columns, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;Sum&quot;</span>)))</code></pre></div>
<p>Apply a function to every member of a list:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">l &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">13</span>, <span class="ot">TRUE</span>)
<span class="kw">lapply</span>(<span class="dt">X =</span> l, <span class="dt">FUN =</span> is.numeric) <span class="co"># returns a list (FALSE TRUE FALSE)</span>
<span class="kw">sapply</span>(<span class="dt">X =</span> l, <span class="dt">FUN =</span> is.numeric) <span class="co"># returns a vector (FALSE TRUE FALSE)</span></code></pre></div>
<h3 id="leave-a-loop"><span class="header-section-number">2.2.4</span> Leave a Loop</h3>
<p>A loop can be left prematurely using the <code>break</code> keyword (a binary search to guess a secret number):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">min =<span class="st"> </span><span class="dv">1</span>
max =<span class="st"> </span><span class="dv">100</span>
secret =<span class="st"> </span><span class="kw">sample</span>(min<span class="op">:</span>max, <span class="dv">1</span>)
<span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;don&#39;t tell: the secret number is&quot;</span>, secret))

guess =<span class="st"> </span><span class="dv">0</span>
tries =<span class="st"> </span><span class="dv">0</span>
<span class="cf">while</span> (<span class="ot">TRUE</span>) {
    guess =<span class="st"> </span><span class="kw">as.integer</span>((min <span class="op">+</span><span class="st"> </span>max) <span class="op">/</span><span class="st"> </span><span class="dv">2</span>)
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;guessed&quot;</span>, guess))
    tries &lt;-<span class="st"> </span>tries <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
    <span class="cf">if</span> (guess <span class="op">==</span><span class="st"> </span>secret) {
        <span class="kw">print</span>(<span class="st">&quot;right&quot;</span>)
        <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;found the secret after&quot;</span>, tries, <span class="st">&quot;attempts&quot;</span>))
        <span class="cf">break</span>
    } <span class="cf">else</span> {
        <span class="kw">print</span>(<span class="st">&quot;wrong&quot;</span>)
        <span class="cf">if</span> (guess <span class="op">&gt;</span><span class="st"> </span>secret) {
            max =<span class="st"> </span>guess
        } <span class="cf">else</span> {
            min =<span class="st"> </span>guess
        }
    }
}</code></pre></div>
<h3 id="skip-a-loop-item"><span class="header-section-number">2.2.5</span> Skip a Loop Item</h3>
<p>A loop item can be skipped using the <code>next</code> keyword (a loop that performs divisions only on non-zero divisors):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">10</span>
dividends =<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, n)
divisors =<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, n)

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n) {
    <span class="cf">if</span> (divisors[i] <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {
        <span class="cf">next</span>
    }
    q &lt;-<span class="st"> </span>dividends[i] <span class="op">/</span><span class="st"> </span>divisors[i]
    <span class="kw">print</span>(<span class="kw">paste</span>(dividends[i], <span class="st">&quot;/&quot;</span>, divisors[i], <span class="st">&quot;=&quot;</span>, q))
}</code></pre></div>
<h3 id="repeat"><span class="header-section-number">2.2.6</span> Repeat</h3>
<p>Instead of writing <code>while(TRUE)</code>, an endless loop can be defined using the <code>repeat</code> keyword (such a loop can only be ended using <code>break</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="st">&quot;CC: CrappyCalculator&quot;</span>)
<span class="cf">repeat</span> {
    i &lt;-<span class="st"> </span><span class="kw">trimws</span>(<span class="kw">readline</span>(<span class="st">&quot;Enter &#39;+&#39; for addition or &#39;q&#39; to quit: &quot;</span>))
    <span class="cf">if</span> (i <span class="op">==</span><span class="st"> &quot;q&quot;</span>) {
        <span class="cf">break</span>
    }
    <span class="cf">if</span> (i <span class="op">!=</span><span class="st"> &quot;+&quot;</span>) {
        <span class="cf">next</span>
    }
    a &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">readline</span>(<span class="st">&quot;Enter a number: &quot;</span>))
    b &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">readline</span>(<span class="st">&quot;Enter another number: &quot;</span>))
    <span class="kw">print</span>(<span class="kw">paste</span>(a, <span class="st">&quot;+&quot;</span>, b, <span class="st">&quot;is&quot;</span>, a <span class="op">+</span><span class="st"> </span>b))
}</code></pre></div>
<h2 id="functions"><span class="header-section-number">2.3</span> Functions</h2>
<p>A recursive function to calculate Fibonacci numbers:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fib &lt;-<span class="st"> </span><span class="cf">function</span>(n) {
    <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">||</span><span class="st"> </span>n <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) {
        <span class="kw">return</span>(<span class="dv">1</span>)
    } <span class="cf">else</span> {
        <span class="kw">return</span>(<span class="kw">fib</span>(n <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">fib</span>(n <span class="op">-</span><span class="st"> </span><span class="dv">1</span>))
    }
}</code></pre></div>
<p>If return is left away, the last object created in the lexical environment will be returned (this function works exactly like the one above):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fib &lt;-<span class="st"> </span><span class="cf">function</span>(n) {
    <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">||</span><span class="st"> </span>n <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) {
        <span class="dv">1</span>
    } <span class="cf">else</span> {
        <span class="kw">fib</span>(n <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">fib</span>(n <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)
    }
}</code></pre></div>
<p>The variadic arguments <code>...</code> first have to be converted into a vector or list in order to work with them:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">numberOfArguments &lt;-<span class="st"> </span><span class="cf">function</span>(...) {
    args &lt;-<span class="st"> </span><span class="kw">c</span>(...)
    <span class="kw">return</span>(<span class="kw">length</span>(args))
}
<span class="kw">numberOfArguments</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)
<span class="kw">numberOfArguments</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</code></pre></div>
<p>Function definitions can be nested within other functions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">average &lt;-<span class="st"> </span><span class="cf">function</span>(...) {
    args =<span class="st"> </span><span class="kw">c</span>(...)
    sum &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
        s &lt;-<span class="st"> </span><span class="dv">0</span>
        <span class="cf">for</span> (i <span class="cf">in</span> x) {
            s &lt;-<span class="st"> </span>s <span class="op">+</span><span class="st"> </span>i
        }
        <span class="kw">return</span>(s)
    }
    <span class="kw">return</span>(<span class="kw">sum</span>(args) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>(args))
}
<span class="kw">average</span>(<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dv">100</span>))</code></pre></div>
<p>Functions can also defined <em>ad hoc</em>, so called disposable functions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">FUN =</span> <span class="cf">function</span>(x) { x <span class="op">**</span><span class="st"> </span><span class="dv">2</span> })
<span class="co"># squares all the numbers from 1 to 10</span></code></pre></div>
<p>When defining a function with a name already used (such as <code>sum</code>), the new user-defined function hides the original function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="co"># calls the original function</span>

sum &lt;-<span class="st"> </span><span class="cf">function</span>(...) {
    <span class="kw">print</span>(<span class="st">&quot;this sum function is user-defined&quot;</span>)
    total &lt;-<span class="st"> </span><span class="dv">0</span>
    <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">c</span>(...)) {
        total &lt;-<span class="st"> </span>total <span class="op">+</span><span class="st"> </span>i
    }
    <span class="kw">return</span>(total)
}

<span class="kw">sum</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="co"># calls the user-defined function</span></code></pre></div>
<p>The original function can be accessed using a package qualifier:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">base<span class="op">::</span><span class="kw">sum</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="co"># calls the original function</span></code></pre></div>
<h2 id="warnings-and-exceptions"><span class="header-section-number">2.4</span> Warnings and Exceptions</h2>
<p>Throw a warning or an exception:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">saveDivide &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {
    <span class="cf">if</span> (x <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {
        <span class="co"># throw a warning message</span>
        <span class="kw">warning</span>(<span class="st">&quot;zero value can&#39;t be divided&quot;</span>)
    }
    <span class="cf">if</span> (y <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {
        <span class="co"># throw an exception, halts the execution</span>
        <span class="kw">stop</span>(<span class="st">&quot;can&#39;t divide by zero&quot;</span>)
    }
    <span class="kw">return</span>(x <span class="op">/</span><span class="st"> </span>y)
}

<span class="kw">saveDivide</span>(<span class="dv">0</span>, <span class="dv">2</span>) <span class="co"># causes warning</span>
<span class="kw">saveDivide</span>(<span class="dv">2</span>, <span class="dv">0</span>) <span class="co"># causes exception, halts execution</span>
<span class="kw">print</span>(<span class="st">&quot;done&quot;</span>) <span class="co"># this won&#39;t be executed</span></code></pre></div>
<p>Catch an error (<code>silent = TRUE</code> suppresses the original error message):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">try</span>(<span class="kw">saveDivide</span>(<span class="dv">2</span>, <span class="dv">0</span>), <span class="dt">silent =</span> <span class="ot">TRUE</span>)
<span class="cf">if</span> (<span class="st">&quot;try-error&quot;</span> <span class="op">==</span><span class="st"> </span><span class="kw">attr</span>(x, <span class="st">&quot;class&quot;</span>)) {
    <span class="kw">print</span>(<span class="st">&quot;division failed&quot;</span>)
} <span class="cf">else</span> {
    <span class="kw">print</span>(x)
}</code></pre></div>
<p>Suppress a warning:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(<span class="op">-</span><span class="dv">1</span>)<span class="op">:</span><span class="st"> </span><span class="co"># returns NaN, arning: &quot;NaNs produced&quot;</span>
<span class="kw">suppressWarning</span>(<span class="kw">sqrt</span>(<span class="op">-</span><span class="dv">1</span>)) <span class="co"># just returns NaN</span></code></pre></div>
<p>Advanced error handling with <code>tryCatch</code> (using the <code>saveDivide(x, y)</code> function from above):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dividends =<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">4</span>)
divisors =<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">4</span>)

<span class="cf">for</span> (c <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {
    a =<span class="st"> </span>dividends[c]
    b =<span class="st"> </span>divisors[c]
    <span class="kw">cat</span>(<span class="st">&quot;try to divide&quot;</span>, a, <span class="st">&quot;by&quot;</span>, b, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)

    result &lt;-<span class="st"> </span><span class="kw">tryCatch</span>({
        <span class="co"># try part</span>
        <span class="kw">saveDivide</span>(a, b)
    }, <span class="dt">warning =</span> <span class="cf">function</span>(warning) {
        <span class="co"># catch part (for warnings)</span>
        <span class="kw">return</span>(<span class="dv">0</span>)
    }, <span class="dt">error =</span> <span class="cf">function</span>(error) {
        <span class="co"># catch part (for errors)</span>
        <span class="kw">return</span>(<span class="ot">NA</span>)
    }, <span class="dt">finally =</span> {
        <span class="co"># finally part (for cleanup)</span>
        <span class="kw">cat</span>(<span class="st">&quot;division&quot;</span>, a, <span class="st">&quot;by&quot;</span>, b, <span class="st">&quot;done</span><span class="ch">\n</span><span class="st">&quot;</span>) 
    })

    <span class="kw">cat</span>(<span class="st">&quot;result:&quot;</span>, result, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)
}</code></pre></div>
<p>Example output:</p>
<pre><code>try to divide 2 by 2
division 2 by 2 done
result: 1
try to divide 1 by 3
division 1 by 3 done
result: 0.3333333
try to divide 3 by 1
division 3 by 1 done
result: 3
try to divide 0 by 0
division 0 by 0 done
result: 0</code></pre>
<h1 id="statistics"><span class="header-section-number">3</span> Statistics</h1>
<h2 id="basic-terms"><span class="header-section-number">3.1</span> Basic Terms</h2>
<ul>
<li>raw data: records or observations that make up a sample</li>
<li>numeric variables
<ul>
<li>continuous: weight of a person, distance between two points</li>
<li>discrete: number of coin tosses, population of a village</li>
</ul></li>
<li>categorial variables
<ul>
<li>nominal (unranked categories): color, nationality</li>
<li>ordinal (ranked categories): level (low, medium, high)</li>
</ul></li>
<li>univariate data: only one dimension (weight, length, duration etc.)</li>
<li>multivariate data: more than one dimension (latitude/longitude, x/y position, weight/height)</li>
<li>parameter: characteristic of a population
<ul>
<li>true mean <span class="math inline"><em>μ</em></span></li>
</ul></li>
<li>statistic: characteristic of a sample (drawn from the population)
<ul>
<li>sample mean <span style="text-decoration: overline"><span class="math inline"><em>x</em></span></span></li>
</ul></li>
</ul>
<h2 id="summary-statistics"><span class="header-section-number">3.2</span> Summary Statistics</h2>
<h3 id="mean-median-mode"><span class="header-section-number">3.2.1</span> Mean, Median, Mode</h3>
<p>Calculate the mean (arithmetic average) and median (the middle value for a set with odd length or the mean of the two middle values for a set with an even length, respectively):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">8</span>,<span class="dv">9</span>)

<span class="kw">mean</span>(data) <span class="co"># 4.15</span>
<span class="kw">median</span>(data) <span class="co"># 4</span></code></pre></div>
<p>Calculate the mode (most common value(s) in a set):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mode &lt;-<span class="st"> </span><span class="cf">function</span>(v) {
    <span class="co"># convert values to a table (containing the values and the number of</span>
    <span class="co"># occurences for each value))</span>
    t &lt;-<span class="st"> </span><span class="kw">table</span>(v)

    <span class="co"># select the table entries with the biggest number of occurences</span>
    m &lt;-<span class="st"> </span>t[t <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(t)]

    <span class="co"># return the value with the most occurences as a number</span>
    <span class="kw">return</span>(<span class="kw">as.numeric</span>(<span class="kw">names</span>(m)))
}
<span class="kw">mode</span>(data) <span class="co"># 3 4 (the most common values, both occur four times)</span></code></pre></div>
<p>Apply summarizing functions on a data frame, grouped by an index (see <code>?chickwts</code>, for details):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tapply</span>(<span class="dt">X =</span> chickwts<span class="op">$</span>weight, <span class="dt">INDEX =</span> chickwts<span class="op">$</span>feed, <span class="dt">FUN =</span> mean)
<span class="kw">tapply</span>(<span class="dt">X =</span> chickwts<span class="op">$</span>weight, <span class="dt">INDEX =</span> chickwts<span class="op">$</span>feed, <span class="dt">FUN =</span> median)</code></pre></div>
<h3 id="quantiles-percentiles"><span class="header-section-number">3.2.2</span> Quantiles, Percentiles</h3>
<p>Calculate the quantile of a vector (0% minimum, 50% median, 100% maximum):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 100 random numbers from 1 to 10</span>
s &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">size =</span> <span class="dv">100</span>) 

<span class="kw">quantile</span>(s) <span class="co"># default quantiles: 0%, 25%, 50%, 75% and 100%</span>
<span class="kw">quantile</span>(s, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>)) <span class="co"># just 0%, 50% and 100%</span>
<span class="kw">quantile</span>(s, <span class="dt">prob =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.1</span>)) <span class="co"># 0%, 10% etcetera</span></code></pre></div>
<p>Output:</p>
<pre><code>  0%   25%   50%   75%  100% 
1.00  3.00  6.00  8.25 10.00 

 0%  50% 100% 
  1    6   10 

 0%  10%  20%  30%  40%  50%  60%  70%  80%  90% 100% 
1.0  2.0  2.8  3.0  5.0  6.0  7.0  8.0  9.0 10.0 10.0 </code></pre>
<p>From this output, information can be obtained, such as:</p>
<ul>
<li>25% of all the values in the sample are below 3</li>
<li>0% of all values in the sample are below or equal to 1.0 (not a single value)</li>
<li>100% of all values in the sample are below or equal to 10.0 (all values)</li>
</ul>
<p>Obtaining the “five-number summary”:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(<span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">size =</span> <span class="dv">100</span>))</code></pre></div>
<p>Output:</p>
<pre><code>Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
1.00    3.00    6.00    5.66    8.00   10.00</code></pre>
<h3 id="spread"><span class="header-section-number">3.2.3</span> Spread</h3>
<p>Observations with different characteristics could have similar or equal means and medians:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">19</span>,<span class="dv">20</span>,<span class="dv">21</span>)
b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>,<span class="dv">14</span>,<span class="dv">15</span>)

<span class="kw">mean</span>(a) <span class="co"># 11</span>
<span class="kw">mean</span>(b) <span class="co"># 11</span>
<span class="kw">median</span>(a) <span class="co"># 11</span>
<span class="kw">median</span>(b) <span class="co"># 11</span></code></pre></div>
<p>The degree of spread of numeric observations can be measured with variance (average squared distance) and the standard deviation (the square root of the variance):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">var</span>(a) <span class="co"># 61.5</span>
<span class="kw">var</span>(b) <span class="co"># 7.5</span>

<span class="kw">sd</span>(a) <span class="co"># 7.842194, same as sqrt(var(a))</span>
<span class="kw">sd</span>(b) <span class="co"># 2.738613, same as sqrt(var(b))</span></code></pre></div>
<p>The interquartile range measures the width of the “middle 50%” of the data :</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(<span class="kw">quantile</span>(a, <span class="fl">0.75</span>) <span class="op">-</span><span class="st"> </span><span class="kw">quantile</span>(a, <span class="fl">0.25</span>)) <span class="co"># 16</span>
<span class="kw">IQR</span>(a) <span class="co"># same, but shorter</span>

<span class="kw">as.numeric</span>(<span class="kw">quantile</span>(b, <span class="fl">0.75</span>) <span class="op">-</span><span class="st"> </span><span class="kw">quantile</span>(b, <span class="fl">0.25</span>)) <span class="co"># 4</span>
<span class="kw">IQR</span>(b) <span class="co"># 4</span></code></pre></div>
<h3 id="covariance-and-correlation"><span class="header-section-number">3.2.4</span> Covariance and Correlation</h3>
<p>Two variables can be more or less related to each other:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">height &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">170</span>, <span class="dv">168</span>, <span class="dv">181</span>, <span class="dv">188</span>, <span class="dv">195</span>, <span class="dv">182</span>, <span class="dv">157</span>, <span class="dv">175</span>, <span class="dv">177</span>, <span class="dv">183</span>)
weight &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">82</span>, <span class="dv">67</span>, <span class="dv">95</span>, <span class="dv">112</span>, <span class="dv">100</span>, <span class="dv">82</span>, <span class="dv">63</span>, <span class="dv">90</span>, <span class="dv">67</span>, <span class="dv">75</span>)
<span class="kw">plot</span>(height, weight)</code></pre></div>
<figure>
<img src="pic/weight-by-height.png" alt="Weight by Height" /><figcaption>Weight by Height</figcaption>
</figure>
<p>Calculate the covariance (how much two variables “change together”) and the correlation (identify the direction and strength of the covariance):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cov</span>(height, weight) <span class="co"># 128.3556, positive linear relationship</span>
<span class="kw">cor</span>(height, weight) <span class="co"># 0.7424948, strong correlation, close to one</span></code></pre></div>
<p>If the points in the plot would align to a straight line, the correlation would be exactly 1.</p>
<h2 id="probability-distributions"><span class="header-section-number">3.3</span> Probability Distributions</h2>
<h3 id="mass-functions-for-discrete-variables"><span class="header-section-number">3.3.1</span> Mass Functions (for Discrete Variables)</h3>
<p>Bernoulli Distribution: <span class="math inline"><em>p</em><sup><em>x</em></sup>(1 − <em>p</em>)<sup>1 − <em>x</em></sup></span></p>
<p>Binomial Distribution: <span class="math inline">$\frac{x!}{n!-(x-n)!} p^x (1-p)^{n-x}$</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># </span><span class="al">TODO</span><span class="co">: examples</span>
dbinom
pbinom
qbinom
rbinom</code></pre></div>
<p>Poisson Distribution: <span class="math inline">$\frac{\lambda^x e^{-\lambda}}{x!}$</span></p>
<h3 id="density-functions-for-continuous-variables"><span class="header-section-number">3.3.2</span> Density Functions (for Continuous Variables)</h3>
<p>…</p>
</body>
</html>
